<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  
    
      
    

    
  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|consolas:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="JavaWeb,Java," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="tomcat下载地址：

bin：包含启动和终止Tomcat服务器的脚本，如：startup.bat、shutdown.bat；
lib：包含服务器和Web应用程序使用的类库，如：servlet-api.jar、jsp-api.jar；
webapps：Web应用的发布目录，服务器可对此目录下的应用程序自动加载；


Servlet API
 javax.servlet 包    \ java">
<meta property="og:type" content="article">
<meta property="og:title" content="Servlet">
<meta property="og:url" content="http://jslancer.top/2016/09/22/Servlet/index.html">
<meta property="og:site_name" content="jsLancer的博客">
<meta property="og:description" content="tomcat下载地址：

bin：包含启动和终止Tomcat服务器的脚本，如：startup.bat、shutdown.bat；
lib：包含服务器和Web应用程序使用的类库，如：servlet-api.jar、jsp-api.jar；
webapps：Web应用的发布目录，服务器可对此目录下的应用程序自动加载；


Servlet API
 javax.servlet 包    \ java">
<meta property="og:updated_time" content="2017-02-06T12:00:24.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Servlet">
<meta name="twitter:description" content="tomcat下载地址：

bin：包含启动和终止Tomcat服务器的脚本，如：startup.bat、shutdown.bat；
lib：包含服务器和Web应用程序使用的类库，如：servlet-api.jar、jsp-api.jar；
webapps：Web应用的发布目录，服务器可对此目录下的应用程序自动加载；


Servlet API
 javax.servlet 包    \ java">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"always"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://jslancer.top/2016/09/22/Servlet/"/>





  <title> Servlet | jsLancer的博客 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">jsLancer的博客</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">笔记分享</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
  <link itemprop="mainEntityOfPage" href="http://jslancer.top/2016/09/22/Servlet/">

  <span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="name" content="光与风与梦">
    <meta itemprop="description" content="">
    <meta itemprop="image" content="/images/icon.jpg">
  </span>

  <span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="jsLancer的博客">
    <span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
      <img style="display:none;" itemprop="url image" alt="jsLancer的博客" src="">
    </span>
  </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Servlet
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-09-22T10:28:08+08:00">
                2016-09-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaWeb/" itemprop="url" rel="index">
                    <span itemprop="name">JavaWeb</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <a href="/2016/09/22/Servlet/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/22/Servlet/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          

          
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <hr>
<ol>
<li>tomcat<a href="http://tomcat.apache.org/" target="_blank" rel="external">下载地址</a>：</li>
</ol>
<pre><code>bin：包含启动和终止Tomcat服务器的脚本，如：startup.bat、shutdown.bat；
lib：包含服务器和Web应用程序使用的类库，如：servlet-api.jar、jsp-api.jar；
webapps：Web应用的发布目录，服务器可对此目录下的应用程序自动加载；
</code></pre><hr>
<ol>
<li><p>Servlet API</p>
<p> javax.servlet 包    \<br> javax.servlet.http 包</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">接口：		                实现类：</div><div class="line"></div><div class="line">    Servlet            		GenencServlet</div><div class="line">    ServletConfig</div><div class="line">    ServletRequest</div><div class="line">    ServletResponse</div><div class="line">    HttpServletRequest		HttpServlet	</div><div class="line">    HttpServletResponse</div></pre></td></tr></table></figure>
<p>所有 Servlet 都必须直接或间接地实现 javax.servlet.Servlet 接口；<br>Servlet 接口规定了必须由 Servlet 类实现并且由 Servlet 引擎识别和管理的方法集；<br>Servlet 接口的基本目标是提供与 Servlet 生命周期相关的方法</p>
<ul>
<li>init()    </li>
<li>service()    </li>
<li>destroy()</li>
</ul>
<a id="more"></a>
<p>Servlet 接口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">初始化方法，任何 Servlet 实例init()方法只能调用一次；</div><div class="line">void init(ServletConfig config);	</div><div class="line"></div><div class="line">服务方法，对 Servlet 发出请求时调用该方法处理用户请求，</div><div class="line">ServletRequest 参数提供访问请求数据的方法和字段， </div><div class="line">ServletResponse 参数提供 Servlet 构造响应的方法； </div><div class="line">void service(ServletRequest req, ServletResponse res);</div><div class="line"></div><div class="line">获得 ServletConfig 对象；								</div><div class="line">ServletConfig getServletConfig();	</div><div class="line"></div><div class="line">返回 String 对象，包含 Servlet 信息；</div><div class="line">String getServletInfo();		</div><div class="line"></div><div class="line">销毁方法，容器在终止 Servlet 服务前调用此方法；当 service() 正在执行时，destroy()不被执行；</div><div class="line">void destroy();</div></pre></td></tr></table></figure>
<p>HttpServlet 抽象类方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">GET 请求，调用 HttpServlet 的 doGet() 方法：</div><div class="line">POST 请求，调用 HttpServlet 的 doPost() 方法；</div><div class="line">void service(HttpServletRequest req, HttpServletResponse res);		</div><div class="line">																		</div><div class="line">处理 HTTP GET 操作；														</div><div class="line">doGet(HttpServletRequest req, HttpServletResponse res);				</div><div class="line"></div><div class="line">处理 HTTP POST 操作；	</div><div class="line">doPost(HttpServletRequest req, HttpServletResponse res);</div></pre></td></tr></table></figure>
<hr>
<ol>
<li><p>Servlet 声明配置</p>
<p> 注解 @WebServlet 的属性描述</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">属性名			类型 		描述</div><div class="line">name			String 		指定 Servlet 名字，一般与 Servlet 类名相同；</div><div class="line">urlPatterns		String[]	指定一组 Servlet 的 URL 匹配模式，可以是匹配地址映射，匹配目录映射，匹配扩展名映射；</div><div class="line">value 			String[]	等价于 urlPatterns 属性；(不可同时使用)</div><div class="line">loadOnStartup	        int 		指定加载顺序，没有指定时，表示容器在第一次请求时才加载；</div><div class="line">								0 或 大于 0 时，容器在应用启动时加载这个 Servlet, 值越小，优先级越高；</div><div class="line">initParams		WebInitParans   指定一组 Servlet 初始化参数，为可选项；</div><div class="line">asyncSupported	        boolean		声明 Servlet 是否支持异步操作模式，默认 false ;</div><div class="line">description		String 		指定该 Servlet 描述信息；</div><div class="line">displayName		String 		指定该 Servlet 显示名，配合工具使用；</div></pre></td></tr></table></figure>
<hr>
<ul>
<li>注解方式配置</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">   @WebServlet(</div><div class="line">	name = &quot;XXServet&quot;, urlPatterns = &#123;&quot;/XX&quot;&#125;,</div><div class="line">	initParams = &#123; @WebInitParam(name = &quot;username&quot;, value = &quot;qst&quot;)&#125;,</div><div class="line">	loadOnStartup = 0, asyncSupported = true,</div><div class="line">	displayName = &quot;XXServet&quot;, description = &quot;Servlet 样例&quot;)</div><div class="line">   public class XXServet extends HttpServlet&#123;</div><div class="line">	//</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>web.xml中配置</li>
</ul>
<p>一个 servlet 对应 一个 servlet-mapping<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">web.xml</div><div class="line"></div><div class="line">        &lt;servlet&gt;</div><div class="line">			&lt;description&gt;Servlet 样例&lt;/description&gt;</div><div class="line">			&lt;display-name&gt;XXServet &lt;/display-name&gt;</div><div class="line">			&lt;servlet-name&gt;XXServet &lt;/servlet-name&gt;</div><div class="line">			&lt;servlet-class&gt;demo2.servlet.XXServet &lt;/servlet-class&gt;</div><div class="line">			&lt;init-param&gt;</div><div class="line">					&lt;param-name&gt;username&lt;/param-name&gt;</div><div class="line">					&lt;param-value&gt;Lancer &lt;/param-value&gt;</div><div class="line">			&lt;/init-param&gt;</div><div class="line">			&lt;load-on-startup&gt;0&lt;/load-on-startup&gt;</div><div class="line">			&lt;async-supported&gt;true&lt;/async-supported&gt;</div><div class="line">	&lt;/servlet&gt;</div><div class="line">	&lt;servlet-mapping&gt;</div><div class="line">			&lt;servlet-name&gt;XXServet &lt;/servlet-name&gt;</div><div class="line">			&lt;url-pattern&gt;/XX &lt;url-pattern&gt;</div><div class="line">	&lt;/servlet-mapping&gt;</div></pre></td></tr></table></figure></p>
<hr>
<ol>
<li>HttpServletRequest 对象常用的数据处理方法：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">public String getParameter(String name);		返回由name指定的用户请求参数的值；</div><div class="line">public String[] getParameterValues(String name);返回由name指定的一组用户请求参数的值；</div><div class="line">public Enumeration getParameterNames();		返回所有客户请求的参数名；</div></pre></td></tr></table></figure>
<pre><code>Servlet 数据处理总结

    客户端向服务器请求数据方式：

    超链接：属于 GET 请求类型，请求的数据在 URL 之后，以 ? 分割 URL 和传输数据，
                参数之间以 &amp; 相连；(传送简单数据)
    Form 表单：默认使用 GET 请求类型，多使用 POST 请求类型。(一般用于更新资源信息)
</code></pre><hr>
<ol>
<li>重定向与请求转发</li>
</ol>
<blockquote>
<pre><code> 重定向：是指由原请求地址重新定位到某个新地址；
HttpServletResponse 对象的 sendRedirect() 方法实现；
</code></pre></blockquote>
<pre><code>public void sendRedirect(String location) throw java.io.IOException
location 参数用以指定重定向的 URL, 它可以是相对路径或绝对路径；
</code></pre><blockquote>
<pre><code>请求转发：把请求转发给另外一个资源，并让该资源对此请求进行响应；
  RequestDispatcher 接口中的 forward() 方法来实现，该方法可以
</code></pre></blockquote>
<pre><code>RequestDispatcher 接口有以下两个方法：
    forward() 方法：将请求转发给其他资源；
    include() 方法：将其他资源并入到当前请求中；
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">// path 只能是相对地址</div><div class="line">RequestDispatcher dispatcher = request.getRequestDispatcher(String path);   </div><div class="line">dispatcher.forward(ServletRequest request, ServletResponse response);</div></pre></td></tr></table></figure>
<hr>
<ol>
<li><p>Servlet 核心接口</p>
<p> ServletConfig 接口：用于获取 Servlet 初始化参数和 ServletContext 对象；</p>
<p> ServletContext 接口：代表当前 Servlet 运行环境，Servlet 可以通过 ServletContext 对象来访问 Servlet 容器中各种资源；</p>
<p> HttpServletRequest 接口：用于封装 HTTP 请求信息；</p>
<p> HttpServletResponse 接口：用于封装 HTTP 响应消息；</p>
<p> 1.ServletConfig 接口</p>
<pre><code>public abstract interface javax.servlet.ServletConfig{}

容器在初始化一个 Servlet 时，将为该 Servlet 创建一个唯一的 ServletConfig 对象，并将
ServletConfig 对象通过 init(ServletConfig config) 方法传递并保存在 Servlet 对象中。
</code></pre></li>
</ol>
<p>主要方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">getInitParameter(String param)			根据给定的初始化参数名称，返回匹配的初始化参数值；</div><div class="line">getInitParameterNames(String param)		返回一个 Enumeration 对象，里面包含了所有的初始化参数；</div><div class="line">getServletContext();				返回一个 ServletContext() 对象；</div><div class="line">getServletName();				返回当前 Servlet 的名字，即 @WebServlet 的name 属性值。如果没有配置这个属性，则返回 Servlet 类的全限定名</div></pre></td></tr></table></figure>
<pre><code>2.ServletContext 接口

    public abstract interface javax.servlet.ServletContext{}

    ServletContext 也称为 Servlet 上下文，代表当前 Servlet 运行环境，是 Servet 与 Servlet 容器之间直接通信的接口；
       Servlet 容器在启动一个 Web 应用时，会为该应用创建一个唯一的 ServletContext 对象供该应用中的
       所有 Servlet 对象共享， Servlet 对象可以通过 ServletContext 对象来访问容器中的各种资源；

       获得 ServletContext 对象的两种方式：
           ServletConfig 接口的 getServletContext() 方法；
           GenericServlet 抽象类的 getServletContext() 方法；

       方法：
       1.获取应用范围的初始化参数的方法
           getInitParameter(String name)        返回 Web应用范围匹配的初始化参数，
                                                   在 web.xml 中&lt;web-app&gt;元素中
                                               &lt;context-param&gt;元素表示范围内的初始化参数
           getInitParameterNames()            返回一个包含初始化参数的 Enumeration 对象；

       2.获取应用范围域属性的方法
           setAttribute(String name, Object object)        把一个对象和一个属性名绑定并存放在 ServletContext 中，
                                                       参数 name 指定属性名，参数 object 表示共享数据；
           getAttribute(String name)                根据参数给定的属性名，返回一个 Object 类型对象；
           getAttributeNames()                        返回一个 Enumeration 对象，该对象包含了所有存放在ServletContext 中的属性名；

           removeAttribute(String name)            根据参数指定的属性名，从 ServletContext 对象中删除匹配的属性；

       3.获取当前 Web 应用信息的方法
           getContextPath()                返回当前 Web 应用的根路径；
           getServletContextName()                返回当前 Web 应用的名字，即&lt;web-app&gt;元素中&lt;display-name&gt;元素的值；
           getRequestDispatcher(String path)            返回一个用于向其它 Web 组件转发请求的 RequestDispatcher 对象；
           getContext(String urlpath)            根据参数指定的 URL 返回当前 Servlet 容器中其他 Web 应用的
                                               ServletContext() 对象，URL 必须是以&quot;/&quot;开头的绝对路径；
       4.获取当前容器信息和输出日志的方法
           getServletInfo()                返回 Web 容器的名字和版本；
           getMajorVersion()                返回 Web 容器支持的 Servlet API 的主版本号；
           getMinorVersion()                返回 Web 容器支持的 Servlet API 的次版本号；
           log(String msg)                    用于记录一般的日志；
           log(String message, Throwable throw)            用于记录异常的堆栈日志；

       5.获取服务器端文件资源的方法；
           getResourseAsStream(String path)                    返回一个读取参数指定的文件的输入流，参数路径必须以&quot;/&quot;开头；
           getResourse(String path)            返回由 path 指定的资源路径对应的一个 URL 对象；(&quot;/&quot;)
           getRealPath(String path)            根据参数指定的虚拟路径，返回文件系统中的一个真实的路径；
           getMimeType(String file)            返回参数指定的文件的 MIME 类型；


   3.HttpServletRequest 接口

       public interface HttpServletRequest extends ServletRequest{}

       ServletRequest 用于封装请求信息，ServletRequest 对象由 Servlet 容器在用户每次请求 Servlet 时创建
       并传入 Servlet 的 service()方法中；

       HttpServletRequest 是专用于 HTTP 协议的子接口，用于封装 HTTP 请求信息；

       HttpServletRequest 接口方法： 
           1.获取请求报文信息(包括请求行，请求头，请求正文)的方法；
               1.请求行：由请求方法，请求 URL 和请求协议及版本组成；
                   例：(GET/chapter03/RequsetLineServlet?pageNo=2&amp;queryString=QST HTTP/1.1)

                   getMehtod()        获取请求使用的 HTTP 方法，GET,POST,PUT
                   getRequestURI()        获取请求行中的资源名部分
                   getProtocol()        获取使用的协议及版本号，HTTP/1.1
                   getQueryString()    获取请求 URL 后面的查询字符串，只对 GET 有效
                   getServletPath()    获取 Servlet 所映射的路径；
                   getContextPath()    获取请求资源所属于的 Web 应用的路径

               2.请求头

                   public abstract Enumeration getHeaderNames();
                   public abstract String getHeader(String headerName);

                   getIntHeader(String name)        获取整数类型参数名为 name 的 http 头部
                   getDateHeader(String name)        获取 long 类型 name 的 http 头部
                   getContentLength()            获取请求内容的长度，以字节为单位
                   getContentType()            获取请求的文档类型定义
                   getLocale()                获取用户浏览器设置的 Locale 信息；

               3.请求正文
                   HTTP 协议请求正文内容为 POST 请求参数名称和值所组成的一个字符串；
                   HTTP 协议的 POST 请求，主要通过 Form 表单向 Web 服务器端程序提交数据请求的方式实现；

                   &lt;form&gt;表单元素的 enctype 属性用于指定浏览器使用哪种编码方式
                       application/x-www-form-urlencoded   (默认)
                       multipart/form-data                    (上传文件)

                   String getParameter(String name)        返回由 name 指定的用户请求参数的值
                   Enumeration getParameterNames()        返回所有客户请求的参数名；
                   String[] getParameterValues(String name)    返回由 name 指定的用户请求参数的值；
                   Map getParameterMap()            返回一个请求参数的 Map, Map 中的键为参数的名称，值为参数名对应的参数值；                           

                   &lt;form action = &quot;服务器端程序地址&quot; method = &quot;post&quot; enctype = &quot;multipart/form-data&quot;&gt;
                           &lt;input name=&quot;文件名称&quot; type=&quot;file&quot;&gt;
                           &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
                   &lt;/form&gt;

                   ServletInputStream getInputStream()        获取上传文件二进制输入流
                   BufferedReader getReader()                获取上传文件字符缓冲输入流

                   使用 @MultipartConfig 注解方式获取上传文件

               4.中文乱码
                   在调用 HttpServletRequest 对象的 getParameter() 方法前先调用 
                   setCharacterEncoding(charset)方法设定与请求编码相同的解码字符集；


                   request.setCharacterEncoding(&quot;UTF-8&quot;);


           2.获取网络连接信息的方法；

               getRemoteAddr()            获取请求用户的 IP 地址；
               getRemoteHost()            获取请求用户的主机名称；
               getRemotePort()            获取请求用户的主机所使用的网络端口号；
               getLocalAddr()            获取 Web 服务器的 IP 地址
               getLocalName()            获取 Web 服务器所使用的主机名
               getLocalPort()            获取 Web 服务器所使用的网络端口号
               getServerName()            获取网站的域名
               getServerPort()            获取 URL 请求的端口号
               getScheme()            获取请求使用的协议，http或是https
               getRequestURL()            获取请求的 URL 地址


           3.存取请求域属性的方法；

               请求域属性:存储在 HttpServletRequest 对象中的对象，属于同一个请求的多个处理组件之间
                     可以通过请求域属性来传递对象数据；

               void setAttribute(String name, Object value)    存入一个请求域属性，name 为属性名，value 为属性值；
               Object getAttribute(String name)            根据属性名称取出一个请求域属性值；
               void removeAttribute(String name)        根据属性名称从请求范围内移除一个请求域属性；
               Enumeration getAttributeNames()            获取所有请求范围内的请求域属性对象；


   4.HttpServletResponse 接口

       public interface HttpServletResponse extends ServletResponse{}

       ServletResponse 用于创建响应信息，ServletRequest 对象由 Servlet 容器在用户每次请求 Servlet 时创建
       并传入 Servlet 的 service()方法中；

       HttpServletRequest 是专用于 HTTP 协议的子接口，用于封装 HTTP 响应信息；



       1.设置响应状态的方法

           setStatus(int sc)        以指定的状态码将响应返回给客户端
           setError(int sc)            使用指定的状态码向客户端返回一个错误响应
           sendError(int sc, String msg)    使用指定的状态码和状态描述向客户端返回一个错误响应
           sendRedirect(String location)    请求的重定向，会设定响应 Location 报头以及改变状态码

           响应状态码：
                             200 请求成功
                         302 资源(网页等)暂时转移到其它 URL
                     404 请求资源不存在
                         500 服务器内部错误

       2.构建响应头的方法

           设置值是 String 类型的响应消息头
               public abstract void setHeader(String headerName, String headerValue)

           含有整数和日期的消息头
               public abstract void setIntHeader(String headerName, int headerValue)
               public abstract void setDateHeader(String headerName, long millisecs)

           setContentType(String mime)        设定 Content-Type 消息头
           setContentLength(int length)        设定 Content-Length 消息头
           addHeader(String name, String value)    新增 String 类型的值到名为 name 的 http 头部
           addIntHeader(String name, int value)    新增 int 类型的值到名为 name 的 http 头部
           addDateHeader(String name, long data)    新增 long 类型的值到名为 name 的 http 头部
           addCookies(Cookie c)            为 Set-Cookie 消息头增加一个值


       3.创建响应正文的方法

           通过输出流对象来完成

           getOutputStream()        返回字节输出流对象 ServletOutputStream (二进制数据)
           getWriter()            返回字符输出流对象 PrintWriter           (字符串)

       4.响应输出中文问题

           response.setCharacterEncoding(&quot;UTF-8&quot;);            //优先权最高
           response.setContentType(&quot;text/html;charset=UTF-8&quot;);    //编码方式，解码方式
           response.setLocale(new java.util.Locale(&quot;zh&quot;, &quot;CN&quot;));
</code></pre><hr>
<ol>
<li><p>会话跟踪技术</p>
<p> 1.Cookie 技术</p>
<pre><code>javax.servlet.http.Cookie 类

例：Cookie unameCookie = new Cookie(&quot;username&quot;, &quot;QST&quot;);        //两个参数指定 Cookie 属性名，属性值

Cookie 对象响应
    response.addCookie(unameCookie);

获取并遍历客户端 Cookie
    Cookie[] cookies = request.getCookies();
    if(cookies != null)
        for(Cookie c : cookies){
            out.println(&quot;属性名：&quot; + c.getName());
            out.println(&quot;属性值：&quot; + c.getValue());
        }

Cookie 的访问路径
    unameCookie.setPath(&quot;/chapter04/jsp/&quot;);        设置 Cookie 在某个应用下的访问路径
    unameCookie.setPath(&quot;/&quot;);            设置 Cookie 在服务器下所有应用的访问路径

Cookie 存活时间的设置
    unameCookie.setMaxAge(7*24*60*60);
    时间为正整数，表示其存活的秒数；
    时间为负数，表示其为临时 Cookie；
    时间若为 0，表示通知浏览器删除相应的 Cookie；
</code></pre></li>
</ol>
<pre><code>2.Session 技术
    javax.servlet.http.HttpSession 接口

    服务器创建会话对象时，会为其分配一个唯一的会话标识---SessionId,以&quot;JSESIONID&quot;的属性名保存在客户端
    Cookie 中，来识别不同用户，实现对每个用户的会话跟踪；

    获取 HttpSession 对象
        HttpServletRequest 接口

        getSession()            获取与客户端请求关联的当前有效的 Session,若没有 Session 关联则新建一个；
        getSession(boolean create)    获取与客户端请求关联的当前有效的 Session,
                                        若没有 Session 关联，当参数为真时，Session 被创建，为假时，返回空值


        例：HttpSession session = request.getSession();
            HttpSession session = request.getSession(true);

    HttpSession 接口的方法

        void setAttribute(String key, Object value)    以 key/value 的形式将对象保存在 HttpSession 对象中
           Object getAttribute(String key)            通过 key 获取对象值
           void removeAttribute(String key)            从 HttpSession 对象中删除指定名称 key 所对应的对象
           void invalidate()                设置 HttpSession 对象失效；
           void setMaxInactiveInterval(int interval)    设定 HttpSession 对象的非活动时间(秒)，若超时，失效
           int getMaxInactiveInterval()
           String getId()                    获取 HttpSession 对象标识 sessionid
           long getCreationTime()                    获取 HttpSession 对象产生的时间
           long getLastAccessedTime()            获取用户最后通过这个 HttpSession 对象送出请求的时间


           设置最大不活动时间
               &lt;session-config&gt;
                       &lt;!--单位为分钟--&gt;
                       &lt;session-timeout&gt;10&lt;/session-timeout&gt;
               &lt;/session-config&gt;

               session.setMaxInactiveInterval(600);

3.URL 重写技术

    在 URL 地址后追加会话标识 jsessionid

    URL 重写实现方法
        HttpServletResponse 的方法

        encodeURL()         可以对任意请求的 URL 进行重写
        encodeRedirectURL()    主要使用 sendRedirect() 方法的 URL 重写；

        例：out.print(&quot;&lt;a href=&apos;&quot; + response.encodeURL(&quot;EncodeURLServlet&quot;) + &quot;&apos;&gt;链接请求&lt;/a&gt;&quot;);
            response.sendRedirect(response.encodeRedirectURL(&quot;EncodeURLServlet&quot;));

4.隐藏表单域技术

    &lt;form action=&quot;xx&quot; method=&quot;post&quot;&gt;
            &lt;input type=&quot;hidden&quot; name=&quot;userID&quot; value=&quot;10010&quot;&gt;
            &lt;input type=&quot;submit&quot; value=&quot;提交&quot;&gt;
    &lt;/form&gt;
</code></pre>
      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        
  <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
    <div>坚持原创技术分享，您的支持将鼓励我继续创作！</div>
    <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
      <span>赏</span>
    </button>
    <div id="QR" style="display: none;">
      
        <div id="wechat" style="display: inline-block">
          <img id="wechat_qr" src="/images/wechatpay.png" alt="光与风与梦 WeChat Pay"/>
          <p>微信打赏</p>
        </div>
      
      
    </div>
  </div>


      
    </div>


    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Javaweb/" rel="tag"># JavaWeb</a>
          
            <a href="/tags/Java/" rel="tag"># Java</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/09/21/BuilderPattern-建造者模式/" rel="next" title="BuilderPattern-建造者模式">
                <i class="fa fa-chevron-left"></i> BuilderPattern-建造者模式
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/09/22/JSP/" rel="prev" title="JSP">
                JSP <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/09/22/Servlet/"
           data-title="Servlet" data-url="http://jslancer.top/2016/09/22/Servlet/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/icon.jpg"
               alt="光与风与梦" />
          <p class="site-author-name" itemprop="name">光与风与梦</p>
          <p class="site-description motion-element" itemprop="description">年轻时不可浸于温室，有梦想时不可止于饥寒。</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">28</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2016 - 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">光与风与梦</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"jslancer"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    
    <script src="/lib/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  








  
  

  

  

  

  


</body>
</html>
